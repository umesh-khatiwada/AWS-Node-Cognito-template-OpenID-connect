<!DOCTYPE html>
<html>
<head>
    <title>VideoHub Player - <%= videoTitle || 'Video Player' %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Video.js CSS -->
    <link href="https://vjs.zencdn.net/8.6.1/video-js.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/video-player.css">
    <script src="/js/video-player.js"></script>

</head>
<body>
    <!-- YouTube-style Header -->
    <header class="youtube-header">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <div class="logo">
                üé¨ VideoHub
            </div>
        </div>
        
        <div class="header-center">
            <div class="video-title" id="headerTitle">
                <%= videoTitle || 'Loading...' %>
            </div>
        </div>
        
        <div class="header-right">
            <button class="header-btn" onclick="toggleTheater()" title="Theater mode">‚õ∂</button>
            <button class="header-btn" onclick="toggleFullscreen()" title="Fullscreen">‚õ∂</button>
        </div>
    </header>

    <!-- Main Player Container -->
    <div class="player-container">
        <div class="video-wrapper" id="videoWrapper">
            <!-- Loading Spinner -->
            <div class="loading-spinner" id="loadingSpinner"></div>
            
            <!-- Video Player -->
            <video
                id="youtube-player"
                class="video-js vjs-default-skin video-player"
                controls
                preload="auto"
                data-setup='{}'>
                <p class="vjs-no-js">
                    To view this video please enable JavaScript, and consider upgrading to a web browser that
                    <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>.
                </p>
            </video>

            <!-- Error Overlay -->
            <div class="error-overlay" id="errorOverlay">
                <div class="error-icon">‚ö†Ô∏è</div>
                <div class="error-title">An error occurred</div>
                <div class="error-message" id="errorMessage">
                    Something went wrong while trying to play this video.
                </div>
                <button class="retry-button" onclick="retryPlayback()">Retry</button>
            </div>

            <!-- Settings Menu -->
            <div class="settings-menu" id="settingsMenu">
                <div class="settings-item" onclick="toggleQualityMenu()">
                    <span class="settings-label">Quality</span>
                    <span class="settings-value" id="currentQuality">Auto</span>
                </div>
                <div class="settings-item" onclick="togglePlaybackSpeed()">
                    <span class="settings-label">Speed</span>
                    <span class="settings-value" id="currentSpeed">Normal</span>
                </div>
            </div>

            <!-- Quality Menu -->
            <div class="quality-menu" id="qualityMenu">
                <div class="quality-item active" data-quality="auto">Auto</div>
                <div class="quality-item" data-quality="1080p">1080p</div>
                <div class="quality-item" data-quality="720p">720p</div>
                <div class="quality-item" data-quality="480p">480p</div>
                <div class="quality-item" data-quality="360p">360p</div>
            </div>
        </div>

        <!-- Video Info -->
        <div class="video-info">
            <h1 class="video-title-main" id="videoTitleMain">
                <%= videoTitle || 'Loading...' %>
            </h1>
            
            <div class="video-meta">
                <span id="viewCount">Loading...</span>
                <span>‚Ä¢</span>
                <span id="uploadDate">Loading...</span>
            </div>
            
            <div class="video-actions">
                <button class="action-button" onclick="toggleLike()">
                    <span>üëç</span>
                    <span>Like</span>
                </button>
                <button class="action-button" onclick="toggleDislike()">
                    <span>üëé</span>
                    <span>Dislike</span>
                </button>
                <button class="action-button" onclick="shareVideo()">
                    <span>üì§</span>
                    <span>Share</span>
                </button>
                <button class="action-button" onclick="downloadVideo()">
                    <span>üíæ</span>
                    <span>Save</span>
                </button>
                <button class="action-button" onclick="reportVideo()">
                    <span>üö©</span>
                    <span>Report</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://vjs.zencdn.net/8.6.1/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.14/dist/hls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-contrib-hls@5.15.0/dist/videojs-contrib-hls.min.js"></script>

 
</body>
</html>
